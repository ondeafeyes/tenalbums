<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Top 40 Record Form</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #51b5d6;
    margin: 0;
    padding: 40px 20px;
    color: #333;
  }

  h1 {
    text-align: center;
    color: #fff;
    font-size: 2rem;
    margin-bottom: 30px;
  }

  form {
    max-width: 900px;
    margin: 0 auto;
    background: #fff;
    border-radius: 12px;
    padding: 30px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.15);
  }

  label {
    font-weight: bold;
    display: block;
    margin-top: 12px;
  }

  input[type="text"], input[type="email"] {
    width: 100%;
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 6px;
    font-size: 0.95rem;
    box-sizing: border-box;
    transition: border-color 0.2s;
  }

  input[type="text"]:focus, input[type="email"]:focus {
    outline: none;
    border-color: #51b5d6;
  }

  .section {
    margin-top: 24px;
    border: 2px solid #51b5d6;
    border-radius: 8px;
    background: #f9f9f9;
    overflow: hidden;
  }

  .toggle-btn {
    background: #e0f3fb;
    color: #333;
    border: none;
    width: 100%;
    text-align: left;
    padding: 14px 18px;
    font-size: 1.1rem;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 1px solid #51b5d6;
    transition: background 0.3s;
  }
  .toggle-btn:hover {
    background: #d0eef9;
  }

  .section-content {
    display: none;
    padding: 20px;
  }
  .section-content.open {
    display: block;
  }

  /* --- Compact grid layout for entries --- */
  .entries-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px 16px;
  }

  .entry {
    display: flex;
    flex-direction: column;
    background: #fff;
    border: 1px solid #51b5d6;
    padding: 8px;
    border-radius: 6px;
  }

  .entry-label {
    font-weight: bold;
    color: #0077aa;
    margin-bottom: 4px;
    font-size: 0.9rem;
  }

  @media (max-width: 700px) {
    .entries-grid {
      grid-template-columns: 1fr;
    }
  }

  .form-actions {
    text-align: center;
    margin-top: 30px;
  }

  button[type="submit"] {
    background: #000;
    color: #fff;
    border: none;
    border-radius: 6px;
    padding: 12px 28px;
    font-size: 1rem;
    cursor: pointer;
    transition: background 0.3s;
  }
  button[type="submit"]:hover {
    background: #333;
  }

  #previewContainer {
    display: none;
    max-width: 900px;
    margin: 40px auto;
    background: #fff;
    border: 2px solid #51b5d6;
    border-radius: 8px;
    padding: 25px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.15);
  }

  #previewContainer h2 {
    color: #0077aa;
    border-bottom: 2px solid #51b5d6;
    padding-bottom: 6px;
    text-align: center;
  }

  .preview-section {
    margin-top: 18px;
    border-top: 1px solid #eee;
    padding-top: 10px;
  }

  .preview-item {
    margin: 4px 0;
    font-size: 15px;
  }

  #savePDFBtn {
    display: none;
    background: #007bff;
    color: #fff;
    border: none;
    padding: 10px 18px;
    border-radius: 6px;
    margin: 20px auto 0;
    cursor: pointer;
    font-size: 15px;
    display: block;
  }

  #savePDFBtn:hover {
    background: #0056b3;
  }
</style>
</head>

<body>
  <h1>ðŸŽµ Top 40 Record Form</h1>

  <form id="recordForm">
    <label for="name">Your Name:</label>
    <input type="text" id="name" name="name" placeholder="Enter your name" required />

    <label for="email">Your Email:</label>
    <input type="email" id="email" name="email" placeholder="Enter your email" required />

    <div class="section">
      <button type="button" id="toggleEssential" class="toggle-btn">10 Essential Albums <span class="chevron">â–¶</span></button>
      <div id="essentialSection" class="section-content"></div>
    </div>

    <div class="section">
      <button type="button" id="togglePersonal" class="toggle-btn">10 Personal Choices <span class="chevron">â–¶</span></button>
      <div id="personalSection" class="section-content"></div>
    </div>

    <div class="section">
      <button type="button" id="toggleSixtiesSeventies" class="toggle-btn">10 Albums from the 60â€™s & 70â€™s <span class="chevron">â–¶</span></button>
      <div id="sixtiesSeventiesSection" class="section-content"></div>
    </div>

    <div class="section">
      <button type="button" id="toggleAdHoc" class="toggle-btn">10 Ad Hoc <span class="chevron">â–¶</span></button>
      <div id="adHocSection" class="section-content">
        <input type="text" name="adhoc_category" placeholder="Name this category (e.g. Guilty Pleasures)" style="margin-bottom:15px;" />
      </div>
    </div>

    <div class="form-actions">
      <button type="submit">Submit</button>
    </div>
  </form>

  <div id="previewContainer">
    <h2>ðŸŽ§ Preview Your Submission</h2>
    <div id="previewContent"></div>
    <button id="savePDFBtn">ðŸ’¾ Save Preview as PDF</button>
  </div>

<script>
  function generateEntries(sectionKey) {
    let html = '<div class="entries-grid">';
    for (let i = 1; i <= 10; i++) {
      html += `
        <div class="entry">
          <span class="entry-label">${sectionKey === "adhoc" ? "" : sectionKey.charAt(0).toUpperCase() + sectionKey.slice(1)} #${i}</span>
          <input type="text" name="${sectionKey}_artist${i}" placeholder="Artist" />
          <input type="text" name="${sectionKey}_title${i}" placeholder="Album Title" />
        </div>`;
    }
    html += '</div>';
    return html;
  }

  function generateSixtiesEntriesWithPlaceholders() {
    const placeholders = [
      "The Beatles or...", "The Rolling Stones or...", "Led Zeppelin or...",
      "Black Sabbath or...", "Pink Floyd or...", "The Doors or...",
      "Jimi Hendrix or...", "Bob Dylan or...", "David Bowie or...", "Your choice"
    ];
    let html = '<div class="entries-grid">';
    for (let i = 0; i < 10; i++) {
      html += `
        <div class="entry">
          <span class="entry-label">60's & 70's #${i + 1}</span>
          <input type="text" name="sixties_artist${i + 1}" placeholder="${placeholders[i]}" />
          <input type="text" name="sixties_title${i + 1}" placeholder="Album Title" />
        </div>`;
    }
    html += '</div>';
    return html;
  }

  document.getElementById('essentialSection').innerHTML = generateEntries("essential");
  document.getElementById('personalSection').innerHTML = generateEntries("personal");
  document.getElementById('sixtiesSeventiesSection').innerHTML = generateSixtiesEntriesWithPlaceholders();
  document.getElementById('adHocSection').innerHTML += generateEntries("adhoc");

  function setupToggle(buttonId, sectionId) {
    const toggleBtn = document.getElementById(buttonId);
    const section = document.getElementById(sectionId);
    toggleBtn.addEventListener("click", () => {
      const isOpen = section.classList.toggle("open");
      toggleBtn.classList.toggle("open", isOpen);
      toggleBtn.querySelector(".chevron").textContent = isOpen ? "â–¼" : "â–¶";
    });
  }
  setupToggle("toggleEssential", "essentialSection");
  setupToggle("togglePersonal", "personalSection");
  setupToggle("toggleSixtiesSeventies", "sixtiesSeventiesSection");
  setupToggle("toggleAdHoc", "adHocSection");
</script>
</body>
</html>
